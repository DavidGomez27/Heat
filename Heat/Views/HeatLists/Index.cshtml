@model IEnumerable<Heat.Models.HeatList>
@Styles.Render("~/Content/CouplesIndexStyle.css")
@{
    ViewBag.Title = "Index";
}

<h1>Heatlist</h1>

@if (User.IsInRole("Admin") || User.IsInRole("Pro"))
{
    <div class="create">
        <p>
            @Html.ActionLink("Create New", "Create")
        </p>
    </div>
}

    @* The display for Heat Members is commented out. *@

    <div class="row grey-box">
        @foreach (var item in Model)
            {
            <div class="col-sm-12 col-md-12">
                <div class="thumbnail">
                    <div class="caption">
                        <h3 class="heatlistName">@Html.DisplayFor(modelItem => item.Name)</h3>

                       <p>@Html.ActionLink("Details", "Details1", new { id = item.HeatListID }, new { @class = "btn btn-primary", role = "button" })</p>

                        @*<p>@Html.DisplayNameFor(model => model.HeatListID) : @Html.DisplayFor(modelItem => item.HeatListID)</p>*@
                        @*<p>@Html.ActionLink("Details", "Details", new { id = item.HeatListID }, new { @class = "btn btn-primary", role = "button" })</p>*@
                        @*<p><a href="#" class="btn btn-primary" role="button">Button</a> <a href="#" class="btn btn-default" role="button">Button</a></p>*@

                        @*<button id="btn" class="btn btn-primary" data-id="@item.HeatListID">Heat Members</button>
                            <div id="detailsPlace"></div>*@

                        @if (User.IsInRole("Admin") || User.IsInRole("Pro"))
                        {
                            <p>

                                @Html.ActionLink("Edit", "Edit", new { id = item.HeatListID }) |
                                @Html.ActionLink("Details", "Details", new { id = item.HeatListID }) |

                            </p>
                        }
                    </div>
                </div>
            </div>
        }
    </div>

    @section Scripts{

        <script type="text/javascript">
           $(function () {
                          
           $('.btn.btn-primary').click(function () {
           alert("onclick")
                   var $buttonClicked = $(this);
                   var id = $buttonClicked.attr('data-id');

                   $.ajax({
                       url: '@Url.Action("Details1/")'+id,
                       type: 'GET',
                       //data: { id: id },
                       success: function (partialView) {
                           $('#detailsPlace').html(partialView);
                           $('#detailsPlace').show();
                       }
                   });
               });
           });
        </script>

            }

    <div id="detailsPlace"></div>
