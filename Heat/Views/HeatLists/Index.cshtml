@model IEnumerable<Heat.Models.HeatList>
@Styles.Render("~/Content/CouplesIndexStyle.css")
@{
    ViewBag.Title = "Index";
}

<section id="title">
    <h1>Heatlist</h1>
</section>
@if (User.IsInRole("Admin") || User.IsInRole("Pro"))
{
    <div class="create">
        <p>
            @Html.ActionLink("Create New", "Create")
        </p>
    </div>
}

    @* The display for Heat Members is commented out. *@



    <div class="row grey-box">
        @foreach (var item in Model)
        {
            <div class="col-sm-12 col-md-12">
                <div class="thumbnail">
                    <div class="caption">
                        <h3>@Html.DisplayFor(modelItem => item.Name)</h3>
                        <button id="btn" class="btn btn-primary" data-id="@item.HeatListID">Heat Members</button>
                        <a href="#detailsPlace" class="btn btn-circle js-scroll-trigger">
                            <span class="glyphicon glyphicon-fire animated"></span>
                            @if (User.IsInRole("Admin") || User.IsInRole("Pro"))
                            {
                                <span>
                                    @Html.ActionLink("Edit", "Edit", new { id = item.HeatListID }) |
                                    @Html.ActionLink("Details", "Heat1", new { id = item.HeatListID }) |
                                    @Html.ActionLink("Delete", "Delete", new { id = item.HeatListID })
                                </span>

                            }
                    </div>
                </div>
            </div>
        }

    </div>


    @section Scripts {
        <script type="text/javascript">
            $(function () {

                //alert("in function")
                $('.btn.btn-primary').click(function () {
                    //alert("onclick")
                    var $buttonClicked = $(this);
                    var id = $buttonClicked.attr('data-id');

                    $.ajax({
                        url: '@Url.Action("Details1/")' + id,
                        type: 'GET',
                        //data: { id: id },
                        success: function (partialView) {
                            $('#detailsPlace').html(partialView);
                            $('#detailsPlace').fadein("slow");
                        }
                    });
                });
            });
        </script>

    }


    <div id="detailsPlace">
    </div>



